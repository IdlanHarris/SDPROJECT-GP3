<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Admin Profile</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 id="headerTitle" class="mt-4">Add Admin Profile</h1>
        <form id="adminProfileForm">
            <div class="mb-3">
                <label for="adminID" class="form-label">Admin ID:</label>
                <input type="text" id="adminID" name="adminID" class="form-control">
            </div>
            <div class="mb-3">
                <label for="adminName" class="form-label">Name:</label>
                <input type="text" id="adminName" name="adminName" class="form-control">
            </div>
            <div class="mb-3">
                <label for="adminEmail" class="form-label">Email:</label>
                <input type="email" id="adminEmail" name="adminEmail" class="form-control">
            </div>
            <div class="mb-3">
                <label for="adminPhoneNumber" class="form-label">Phone Number:</label>
                <input type="number" id="adminPhoneNumber" name="adminPhoneNumber" class="form-control">
            </div>
            <div class="mb-3">
                <label for="adminRole" class="form-label">Role:</label>
                <input type="text" id="adminRole" name="adminRole" class="form-control">
            </div>
            <div class="mb-3">
                <label for="adminDepartment" class="form-label">Department:</label>
                <input type="text" id="adminDepartment" name="adminDepartment" class="form-control">
            </div>
            <button type="button" class="btn btn-primary btn-custom" onclick="saveAdminProfile()">Save</button>
        </form>
    </div>

    <!-- Bootstrap JS (Optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let editingIndex = null;

        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            editingIndex = urlParams.get('index');
            if (editingIndex !== null) {
                loadAdminProfile(editingIndex);
            }
        });

        function saveAdminProfile() {
            const adminProfiles = JSON.parse(localStorage.getItem('adminProfiles')) || [];

            const adminProfileData = {
                adminID: document.getElementById('adminID').value,
                adminName: document.getElementById('adminName').value,
                adminEmail: document.getElementById('adminEmail').value,
                adminPhoneNumber: document.getElementById('adminPhoneNumber').value,
                adminRole: document.getElementById('adminRole').value,
                adminDepartment: document.getElementById('adminDepartment').value,
            };

            if (editingIndex !== null) {
                adminProfiles[editingIndex] = adminProfileData;
            } else {
                adminProfiles.push(adminProfileData);
            }

            localStorage.setItem('adminProfiles', JSON.stringify(adminProfiles));
            window.location.href = 'admin-list.html';
        }

        function loadAdminProfile(index) {
            const adminProfiles = JSON.parse(localStorage.getItem('adminProfiles')) || [];
            const profile = adminProfiles[index];

            if (profile) {
                document.getElementById('headerTitle').textContent = 'Edit Admin Profile';
                document.getElementById('adminID').value = profile.adminID;
                document.getElementById('adminName').value = profile.adminName;
                document.getElementById('adminEmail').value = profile.adminEmail;
                document.getElementById('adminPhoneNumber').value = profile.adminPhoneNumber;
                document.getElementById('adminRole').value = profile.adminRole;
                document.getElementById('adminDepartment').value = profile.adminDepartment;
            }
        }
    </script>
</body>
</html>
